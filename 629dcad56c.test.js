// Test generated by RoostGPT for test ExpressJs using AI Type Open AI and AI Model gpt-4

import mongoose from 'mongoose';

describe('Database Connection', () => {
  let db;

  beforeAll(async () => {
    db = await mongoose.connect("mongodb://127.0.0.1:27017", {
      dbName: "backend"
    });
  });

  test('should establish a connection to the database', async () => {
    const connectionState = db.connections[0].readyState;
    expect(connectionState).toBe(1);
  });

  test('should use the correct database', async () => {
    const dbName = db.connections[0].name;
    expect(dbName).toBe('backend');
  });

  afterAll(async () => {
    await mongoose.disconnect();
  });
});
